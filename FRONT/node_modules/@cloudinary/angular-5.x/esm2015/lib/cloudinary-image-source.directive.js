/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Directive, ElementRef, Input, QueryList, ContentChildren } from '@angular/core';
import { Cloudinary } from './cloudinary.service';
import { CloudinaryTransformationDirective } from './cloudinary-transformation.directive';
import { isBrowser } from './cloudinary.service';
import * as ɵngcc0 from '@angular/core';
import * as ɵngcc1 from './cloudinary.service';
export class CloudinaryImageSourceDirective {
    /**
     * @param {?} el
     * @param {?} cloudinary
     */
    constructor(el, cloudinary) {
        this.el = el;
        this.cloudinary = cloudinary;
    }
    /**
     * @return {?}
     */
    ngAfterViewInit() {
        if (isBrowser()) {
            /** @type {?} */
            let attrName;
            /** @type {?} */
            let propertyValue;
            if (this.clHref) {
                attrName = 'href';
                propertyValue = this.clHref;
            }
            else if (this.clSrc) {
                attrName = 'src';
                propertyValue = this.clSrc;
            }
            else if (this.clSrcset) {
                attrName = 'srcset';
                propertyValue = this.clSrcset;
            }
            /** @type {?} */
            let isSvg = false;
            if (this.clHref &&
                toString.call(this.el.nativeElement['href'] === '[object SVGAnimatedString]')) {
                this.el.nativeElement.setAttribute('xlinkHref', 'xlink:href');
                isSvg = true;
            }
            if (!attrName || !propertyValue) {
                throw new Error('Directive value is missing for clHref/clSrc/clSrcset');
            }
            /** @type {?} */
            const nativeElement = this.el.nativeElement;
            /** @type {?} */
            const options = this.cloudinary.toCloudinaryAttributes(nativeElement.attributes, this.transformations);
            /** @type {?} */
            const attrValue = this.cloudinary.url(propertyValue, options);
            this.el.nativeElement.setAttribute(attrName, attrValue);
            /*
                     on IE, if "ngSrc" directive declaration is used and "src" attribute doesn't exist
                     then calling element.setAttribute('src', 'foo') doesn't do anything, so we need
                     to set the property as well to achieve the desired effect.
            
                     Check for IE: http://stackoverflow.com/a/32139375/198095
                     if is IE then documentMode contains IE version
                     */
            /** @type {?} */
            const msie = this.el.nativeElement.ownerDocument.documentMode;
            if (msie && !isSvg) {
                // IE logic here
                this.el.nativeElement[attrName] = attrValue;
            }
        }
    }
    ;
}
CloudinaryImageSourceDirective.ɵfac = function CloudinaryImageSourceDirective_Factory(t) { return new (t || CloudinaryImageSourceDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.Cloudinary)); };
CloudinaryImageSourceDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: CloudinaryImageSourceDirective, selectors: [["", "clHref", ""], ["", "clSrc", ""], ["", "clSrcset", ""]], contentQueries: function CloudinaryImageSourceDirective_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        ɵngcc0.ɵɵcontentQuery(dirIndex, CloudinaryTransformationDirective, 0);
    } if (rf & 2) {
        let _t;
        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.transformations = _t);
    } }, inputs: { clHref: "clHref", clSrc: "clSrc", clSrcset: "clSrcset" } });
/** @nocollapse */
CloudinaryImageSourceDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Cloudinary }
];
CloudinaryImageSourceDirective.propDecorators = {
    clHref: [{ type: Input }],
    clSrc: [{ type: Input }],
    clSrcset: [{ type: Input }],
    transformations: [{ type: ContentChildren, args: [CloudinaryTransformationDirective,] }]
};
(function () { (typeof ngDevMode === "undefined" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CloudinaryImageSourceDirective, [{
        type: Directive,
        args: [{
                selector: '[clHref], [clSrc], [clSrcset]'
            }]
    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.Cloudinary }]; }, { clHref: [{
            type: Input
        }], clSrc: [{
            type: Input
        }], clSrcset: [{
            type: Input
        }], transformations: [{
            type: ContentChildren,
            args: [CloudinaryTransformationDirective]
        }] }); })();
if (false) {
    /** @type {?} */
    CloudinaryImageSourceDirective.prototype.clHref;
    /** @type {?} */
    CloudinaryImageSourceDirective.prototype.clSrc;
    /** @type {?} */
    CloudinaryImageSourceDirective.prototype.clSrcset;
    /** @type {?} */
    CloudinaryImageSourceDirective.prototype.transformations;
    /**
     * @type {?}
     * @private
     */
    CloudinaryImageSourceDirective.prototype.el;
    /**
     * @type {?}
     * @private
     */
    CloudinaryImageSourceDirective.prototype.cloudinary;
    /* Skipping unhandled member: ;*/
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvdWRpbmFyeS1pbWFnZS1zb3VyY2UuZGlyZWN0aXZlLmpzIiwic291cmNlcyI6WyJAY2xvdWRpbmFyeS9hbmd1bGFyLTUueC9saWIvY2xvdWRpbmFyeS1pbWFnZS1zb3VyY2UuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUMsU0FBUyxFQUFFLFVBQVUsRUFBaUIsS0FBSyxFQUFFLFNBQVMsRUFBRSxlQUFlLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDdEcsT0FBTyxFQUFDLFVBQVUsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBQ2hELE9BQU8sRUFBQyxpQ0FBaUMsRUFBQyxNQUFNLHVDQUF1QyxDQUFDO0FBQ3hGLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQzs7O0FBS2pELE1BQU0sT0FBTyw4QkFBOEI7QUFBSTtBQUFTO0FBRWxEO0FBQ0M7QUFBUyxJQU1aLFlBQW9CLEVBQWMsRUFBVSxVQUFzQjtBQUNyRSxRQUR1QixPQUFFLEdBQUYsRUFBRSxDQUFZO0FBQUUsUUFBUSxlQUFVLEdBQVYsVUFBVSxDQUFZO0FBQUUsSUFDcEUsQ0FBQztBQUVMO0FBQVM7QUFDSjtBQUFTLElBRFYsZUFBZTtBQUNsQixRQUFLLElBQUksU0FBUyxFQUFFLEVBQUU7QUFDdEI7QUFDQSxnQkFEVyxRQUFnQjtBQUMzQjtBQUE4QixnQkFBbkIsYUFBcUI7QUFDaEMsWUFBTyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7QUFDeEIsZ0JBQVcsUUFBUSxHQUFHLE1BQU0sQ0FBQztBQUM3QixnQkFBVyxhQUFhLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUN2QyxhQUFRO0FBQUUsaUJBQUksSUFBSSxJQUFJLENBQUMsS0FBSyxFQUFFO0FBQzlCLGdCQUFXLFFBQVEsR0FBRyxLQUFLLENBQUM7QUFDNUIsZ0JBQVcsYUFBYSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7QUFDdEMsYUFBUTtBQUFFLGlCQUFJLElBQUks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LEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBVUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBOURBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFQQSxBQUFBLEFBQ0EsQUFBQSxBQVNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBSkEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBRUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEFmdGVyVmlld0luaXQsIElucHV0LCBRdWVyeUxpc3QsIENvbnRlbnRDaGlsZHJlbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0Nsb3VkaW5hcnl9IGZyb20gJy4vY2xvdWRpbmFyeS5zZXJ2aWNlJztcbmltcG9ydCB7Q2xvdWRpbmFyeVRyYW5zZm9ybWF0aW9uRGlyZWN0aXZlfSBmcm9tICcuL2Nsb3VkaW5hcnktdHJhbnNmb3JtYXRpb24uZGlyZWN0aXZlJztcbmltcG9ydCB7IGlzQnJvd3NlciB9IGZyb20gJy4vY2xvdWRpbmFyeS5zZXJ2aWNlJztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbY2xIcmVmXSwgW2NsU3JjXSwgW2NsU3Jjc2V0XSdcbn0pXG5leHBvcnQgY2xhc3MgQ2xvdWRpbmFyeUltYWdlU291cmNlRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG5cbiAgICBASW5wdXQoKSBjbEhyZWY6IHN0cmluZztcbiAgICBASW5wdXQoKSBjbFNyYzogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGNsU3Jjc2V0OiBzdHJpbmc7XG5cbiAgICBAQ29udGVudENoaWxkcmVuKENsb3VkaW5hcnlUcmFuc2Zvcm1hdGlvbkRpcmVjdGl2ZSlcbiAgICB0cmFuc2Zvcm1hdGlvbnM6IFF1ZXJ5TGlzdDxDbG91ZGluYXJ5VHJhbnNmb3JtYXRpb25EaXJlY3RpdmU+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSBjbG91ZGluYXJ5OiBDbG91ZGluYXJ5KSB7XG4gICAgfVxuXG4gICAgbmdBZnRlclZpZXdJbml0KCkge1xuICAgICAgaWYgKGlzQnJvd3NlcigpKSB7XG4gICAgICAgIGxldCBhdHRyTmFtZTogc3RyaW5nO1xuICAgICAgICBsZXQgcHJvcGVydHlWYWx1ZTogc3RyaW5nO1xuICAgICAgICBpZiAodGhpcy5jbEhyZWYpIHtcbiAgICAgICAgICAgIGF0dHJOYW1lID0gJ2hyZWYnO1xuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IHRoaXMuY2xIcmVmO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY2xTcmMpIHtcbiAgICAgICAgICAgIGF0dHJOYW1lID0gJ3NyYyc7XG4gICAgICAgICAgICBwcm9wZXJ0eVZhbHVlID0gdGhpcy5jbFNyYztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNsU3Jjc2V0KSB7XG4gICAgICAgICAgICBhdHRyTmFtZSA9ICdzcmNzZXQnO1xuICAgICAgICAgICAgcHJvcGVydHlWYWx1ZSA9IHRoaXMuY2xTcmNzZXQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaXNTdmcgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5jbEhyZWYgJiZcbiAgICAgICAgICAgIHRvU3RyaW5nLmNhbGwodGhpcy5lbC5uYXRpdmVFbGVtZW50WydocmVmJ10gPT09ICdbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXScpKSB7XG4gICAgICAgICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuc2V0QXR0cmlidXRlKCd4bGlua0hyZWYnLCAneGxpbms6aHJlZicpO1xuICAgICAgICAgICAgaXNTdmcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFhdHRyTmFtZSB8fCAhcHJvcGVydHlWYWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEaXJlY3RpdmUgdmFsdWUgaXMgbWlzc2luZyBmb3IgY2xIcmVmL2NsU3JjL2NsU3Jjc2V0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBuYXRpdmVFbGVtZW50ID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50O1xuICAgICAgICBjb25zdCBvcHRpb25zID0gdGhpcy5jbG91ZGluYXJ5LnRvQ2xvdWRpbmFyeUF0dHJpYnV0ZXMobmF0aXZlRWxlbWVudC5hdHRyaWJ1dGVzLCB0aGlzLnRyYW5zZm9ybWF0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgYXR0clZhbHVlID0gdGhpcy5jbG91ZGluYXJ5LnVybChwcm9wZXJ0eVZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0clZhbHVlKTtcblxuICAgICAgICAvKlxuICAgICAgICAgb24gSUUsIGlmIFwibmdTcmNcIiBkaXJlY3RpdmUgZGVjbGFyYXRpb24gaXMgdXNlZCBhbmQgXCJzcmNcIiBhdHRyaWJ1dGUgZG9lc24ndCBleGlzdFxuICAgICAgICAgdGhlbiBjYWxsaW5nIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzcmMnLCAnZm9vJykgZG9lc24ndCBkbyBhbnl0aGluZywgc28gd2UgbmVlZFxuICAgICAgICAgdG8gc2V0IHRoZSBwcm9wZXJ0eSBhcyB3ZWxsIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxuXG4gICAgICAgICBDaGVjayBmb3IgSUU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzMyMTM5Mzc1LzE5ODA5NVxuICAgICAgICAgaWYgaXMgSUUgdGhlbiBkb2N1bWVudE1vZGUgY29udGFpbnMgSUUgdmVyc2lvblxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbXNpZSA9IHRoaXMuZWwubmF0aXZlRWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50TW9kZTtcbiAgICAgICAgaWYgKG1zaWUgJiYgIWlzU3ZnKSB7XG4gICAgICAgICAgICAvLyBJRSBsb2dpYyBoZXJlXG4gICAgICAgICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnRbYXR0ck5hbWVdID0gYXR0clZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbn1cbiJdfQ==